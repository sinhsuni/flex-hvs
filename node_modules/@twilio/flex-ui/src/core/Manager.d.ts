import { Store } from "redux";
import * as TwilioChat from "twilio-chat";
import { SyncClient } from "twilio-sync";
import { Worker } from "twilio-taskrouter";
import { FlexEventEmitter } from "../FlexEvents";
import { Flex } from "../FlexGlobal";
import { Strings } from "../localization";
import * as AppConfig from "../state/AppConfig";
import { EnhancedStore, FlexState } from "../Store";
import defaultConfiguration from "./ContactCenter.conf";
import { PrivateServiceConfiguration } from "./PrivateAppConfigUtils";
export { defaultConfiguration };
/**
 * User Info
 *
 * @typedef {Object} UserInfo
 * @property {string} identity identity
 * @property {Array<string>} roles roles
 * @property {string} token access token
 * @property {Date} tokenExpirationDate token expiration date
 * @memberof Manager
 */
export interface UserInfo {
    identity: string;
    roles: Array<string>;
    token: string;
    tokenExpirationDate: Date;
}
/**
 * @class Manager
 * @classdesc Flex Manager. Main entry point to control Flex instance.
 * @hideconstructor
 * @category Core / Manager
 */
export declare class Manager {
    private _store;
    private _strings;
    private _initialized;
    private _serviceConfiguration;
    private static _instance;
    protected static _proxiedInstance: Manager;
    /**
     * Gets the instance of Manager
     *
     * @static
     * @returns {Manager} instance
     */
    static getInstance(): Manager;
    constructor(config: AppConfig.Config, store: Store<FlexState>);
    private static validateConfig;
    private static updateChatConfig;
    private static createProxiedInstance;
    /**
     * Creates an instance of Flex Manager
     *
     * @static
     * @param {Configuration.AppConfiguration} config Configuration
     * @param {ReduxStore<FlexState>} [store] Custom Redux store
     * @throws {FlexError}
     * @returns {Promise<Manager>} New instance of manager
     * @example
     * import * as React from "react";
     * import * as ReactDOM from "react-dom";
     * import { Manager, ContextProvider, RootContainer } from "@twilio/flex-ui";
     * Manager.create(configuration)
     *  .then((manager) => {
     *      ReactDOM.render(
     *          <ContextProvider manager={manager}>
     *              <RootContainer />
     *          </ContextProvider>,
     *          document.getElementById("container")
     *      );
     *  })
     *  .catch((e) => {
     *      console.log("Failed to run Flex", e);
     *  });
     */
    static create(config: AppConfig.Config, store?: Store<FlexState>, _deprecated3rdParam?: any): Promise<Manager>;
    /**
     * Updates current configuration by merging provided configuration objects deeply with the current configuration.
     * @param {Configuration.AppConfiguration} configs configuration objects to merge in
     * @instance
     * @example
     * import { Manager } from "@twilio/flex-ui";
     * Manager.getInstance().updateConfig({
     *  logLevel: "debug"
     * });
     */
    updateConfig(...configs: Array<AppConfig.Config>): void;
    set configuration(value: AppConfig.Config);
    /**
     * Current configuration
     * @type {Configuration.AppConfiguration}
     * @readonly
     * @instance
     */
    get configuration(): AppConfig.Config;
    /**
     * Service configuration
     * @type {Configuration.ServiceConfiguration}
     * @readonly
     * @instance
     */
    get serviceConfiguration(): PrivateServiceConfiguration | Flex.ServiceConfiguration;
    /**
     * Instance of Flex Redux store
     * @see {@link https://redux.js.org/api/store}
     * @type {ReduxStore<FlexState>}
     * @readonly
     * @instance
     */
    get store(): EnhancedStore<any>;
    /**
     * Flex event emitter. User to subscribe to Flex events.
     *
     * @readonly
     * @type {FlexEvent}
     * @instance
     */
    get events(): FlexEventEmitter;
    get strings(): Strings;
    /**
     * Get or set strings / templates for Flex. Add or updates existing ones.
     * @type {Strings}
     * @instance
     */
    set strings(value: Strings);
    /**
     * Current user information
     *
     * @readonly
     * @type {Manager.UserInfo}
     * @instance
     */
    get user(): UserInfo;
    /**
     * Instance of Twilio Chat Client.
     * @see {@link https://media.twiliocdn.com/sdk/js/chat/releases/3.4.0/docs}
     * @instance
     * @readonly
     * @type {twilio-chat:Client}
     */
    get chatClient(): TwilioChat.Client;
    /**
     * Returns an instance of Twilio.Device which is used to handle calls.
     * @see {@link https://www.twilio.com/docs/voice/client/javascript/device}
     * @readonly
     * @type {twilio-client:Device}
     * @instance
     */
    get voiceClient(): any;
    /**
     * Returns an instance of Twilio TaskRouter Worker Client.
     * @see {@link https://twilio.github.io/twilio-taskrouter.js}
     * @readonly
     * @type {twilio-taskrouter:Worker}
     * @instance
     */
    get workerClient(): Worker;
    /**
     * Returns an instance of Twilio Sync Client.
     * @see {@link https://media.twiliocdn.com/sdk/js/sync/v0.9/docs}
     * @readonly
     * @type {twilio-sync:Client}
     * @instance
     */
    get insightsClient(): SyncClient;
    /**
     * @private
     */
    loadInitialData(): Promise<void>;
    /**
     * @private
     */
    reportPluginInteraction(payload: Record<string, any>): void;
    /**
     * Fetches Flex configuration from the service.
     * @instance
     * @returns {(Promise<Configuration.AppConfiguration>)}
     */
    fetchConfiguration(): Promise<AppConfig.Config | undefined>;
    private validateServiceVersion;
    private configureReduxStore;
    private setStringsFromConfig;
}
export declare class ManagerForOutside extends Manager {
    static getInstance(): Manager;
}
