import { Action, Dispatch } from "redux";
import { WorkerLogoutPayload } from "../actions/WorkerActions";
import { InsightsServiceStatus } from "../core/Insights/InsightsService.definitions";
import { SSOLoginHandler } from "../core/SSOLoginHandler";
import { SSOTokenPayload } from "../core/SSOLoginHandler.definitions";
import { SingleSessionGuardState } from "./SessionState.definitions";
/**
 * Login states
 * @enum {"UNKNOWN" | "LOGGING_IN" | "LOGGED_IN" | "LOGGED_OUT" | "ERROR"} LoginState
 * @property {"UNKNOWN"} Unknown
 * @property {"LOGGING_IN"} LoggingIn
 * @property {"LOGGED_IN"} LoggedIn
 * @property {"LOGGED_OUT"} LoggedOut
 * @property {"ERROR"} Error
 * @memberOf SessionState
 */
export declare enum LoginState {
    Unknown = "UNKNOWN",
    LoggingIn = "LOGGING_IN",
    LoggedIn = "LOGGED_IN",
    LoggedOut = "LOGGED_OUT",
    Error = "ERROR"
}
export declare const INSIGHTS_INIT_TIMEOUT = 10000;
/**
 * Active session state
 * @interface SessionState
 * @property {string} [identity] identity of a logged in user
 * @property {any} [loginError] last error that occurred when logging in
 * @property {SessionState.LoginState} [loginState] current state of the session
 * @property {SessionState.SSOTokenPayload} [ssoTokenPayload] SSO token payload
 * @category State
 */
export interface SessionState {
    readonly identity: string;
    readonly insightsServiceStatus: InsightsServiceStatus;
    readonly goodDataServiceStatus: InsightsServiceStatus;
    readonly loginHandler: SSOLoginHandler;
    readonly loginError: any;
    readonly loginState: LoginState;
    readonly ssoTokenPayload: SSOTokenPayload;
    readonly singleSessionGuard: SingleSessionGuardState;
}
interface SessionStateAction extends Action {
    readonly payload?: any;
}
export declare const ACTION_LOGGED_OUT = "FLEX_ACTION_LOGGED_OUT";
export declare function reduce(state: SessionState, action: SessionStateAction): SessionState;
export declare class Actions {
    private static _dispatcher;
    static get dispatcher(): Dispatch<any>;
    static set dispatcher(dispatcher: Dispatch<any>);
    static init(): void;
    static invalidateCurrentSession: (otherSessionCookieId: string) => void;
    static invalidateOtherSessions: () => void;
    static validateCurrentSession: () => void;
    static alertForMultiSession: (otherSessionSid: string, hasOngoingCall: boolean) => void;
    static ssoLogin(loginHandler: SSOLoginHandler): Promise<void>;
    static validateSession(): Promise<void>;
    static updateInsightsServiceStatus(status: InsightsServiceStatus): void;
    static updateGoodDataServiceStatus(status: InsightsServiceStatus): void;
    private static handleTokenUpdated;
    private static handleTokenExpired;
    private static initClients;
    static logout(logoutPayload: WorkerLogoutPayload): Promise<void>;
    private static unInitialiseSDKs;
}
export {};
